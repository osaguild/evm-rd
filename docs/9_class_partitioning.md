# class partitioning

## test lists of libraries

- business logic
  - [lens protocol sample](https://github.com/lens-protocol/core/blob/main/contracts/libraries/PublishingLogic.sol)
- constants
  - [lens protocol sample](https://github.com/lens-protocol/core/blob/main/contracts/libraries/Constants.sol)
- enum and struct
  - [lens protocol sample](https://github.com/lens-protocol/core/blob/main/contracts/libraries/DataTypes.sol)
- error
  - [lens protocol sample](https://github.com/lens-protocol/core/blob/main/contracts/libraries/Errors.sol)
- event
  - [lens protocol sample](https://github.com/lens-protocol/core/blob/main/contracts/libraries/Events.sol)

## events

conclusion: if you want to check events from transaction receipt, you should define them in contract. the reason for this is that the abi code needs to be added to the contract.

### define event in contract, and emit from contract

```json
{
  "transactionIndex": 0,
  "blockNumber": 3,
  "transactionHash": "0xee7601148a307d75c473fcae0a17a67e298f658abb9d382d78e4aa8057730116",
  "address": "0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",
  "topics": [
    "0x5a5ae1b29e048cfb795b319699251754ff3a7339b8a3fd3ed6b2bcb1c6623269",
    "0x0000000000000000000000000000000000000000000000000000000000000000"
  ],
  "data": "0x000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000044a6f686e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003446f650000000000000000000000000000000000000000000000000000000000",
  "logIndex": 0,
  "blockHash": "0x69248194fa1dda11389d8b1f6bcd95afb26d76cd6ee5caac703b080d6ee0748b",
  "args": [
    {
      "type": "BigNumber",
      "hex": "0x00"
    },
    ["John", "Doe", 0, 0, 20]
  ],
  "event": "ProfileCreated",
  "eventSignature": "ProfileCreated(uint256,(string,string,uint8,uint8,uint8))"
}
```

### define event in contract, and emit from contract

```json
{
  "transactionIndex": 0,
  "blockNumber": 3,
  "transactionHash": "0x1807cd5e56823a404a5933940a879b790b746ca6668fcd8f51dc5a85fa5c0138",
  "address": "0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",
  "topics": [
    "0x5a5ae1b29e048cfb795b319699251754ff3a7339b8a3fd3ed6b2bcb1c6623269",
    "0x0000000000000000000000000000000000000000000000000000000000000000"
  ],
  "data": "0x000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000044a6f686e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003446f650000000000000000000000000000000000000000000000000000000000",
  "logIndex": 0,
  "blockHash": "0x51e1a2f00d7252b64711076d6440bba715b9564bbe881a8b7456aeafcbdc87ea",
  "args": [
    {
      "type": "BigNumber",
      "hex": "0x00"
    },
    ["John", "Doe", 0, 0, 20]
  ],
  "event": "ProfileCreated",
  "eventSignature": "ProfileCreated(uint256,(string,string,uint8,uint8,uint8))"
}
```

### define event in library, and import and call from contract

```json
{
  "transactionIndex": 0,
  "blockNumber": 3,
  "transactionHash": "0xee7601148a307d75c473fcae0a17a67e298f658abb9d382d78e4aa8057730116",
  "address": "0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",
  "topics": [
    "0x5a5ae1b29e048cfb795b319699251754ff3a7339b8a3fd3ed6b2bcb1c6623269",
    "0x0000000000000000000000000000000000000000000000000000000000000000"
  ],
  "data": "0x000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000044a6f686e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003446f650000000000000000000000000000000000000000000000000000000000",
  "logIndex": 0,
  "blockHash": "0x35e1309ef7b5b640e0858bddafb27aba0da3a34ad1b2b1f27286124dcc5446f8"
}
```

### define event in library, and import and call from library

```json
{
  "transactionIndex": 0,
  "blockNumber": 3,
  "transactionHash": "0x1807cd5e56823a404a5933940a879b790b746ca6668fcd8f51dc5a85fa5c0138",
  "address": "0xe7f1725E7734CE288F8367e1Bb143E90bb3F0512",
  "topics": [
    "0x5a5ae1b29e048cfb795b319699251754ff3a7339b8a3fd3ed6b2bcb1c6623269",
    "0x0000000000000000000000000000000000000000000000000000000000000000"
  ],
  "data": "0x000000000000000000000000000000000000000000000000000000000000002000000000000000000000000000000000000000000000000000000000000000a000000000000000000000000000000000000000000000000000000000000000e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000001400000000000000000000000000000000000000000000000000000000000000044a6f686e000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000000003446f650000000000000000000000000000000000000000000000000000000000",
  "logIndex": 0,
  "blockHash": "0x5d3aacd12c2b4056620baf9bb4895d8289b6a4775e0a849d2868a04ac5a82e5b"
}
```
